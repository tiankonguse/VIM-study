# vim学习之文件操作


vim中常用的文件操作就是退出,保存等吧.  

但是对于其他的文件操作,有时候我们也需要用到,比如重新加载当前文件,另存为,浏览目录等操作.  

那些操作我们都可以通过退出在进入做到,但是我们知道了这些操作后就可以不用退出在进入了.  


## 基本命令


基本命令大家经常使用,这里简单的罗列一下吧.  

```
:w  # 保存
:w! # 强制保存
:q  # 退出
:q! # 强制退出
:wq # 保存并退出
:x  # 保存并退出
```



## 其他命令的啰嗦

在命令行的时候,我们直接 vi 文件名就打开文件了.  

但是当我们已经在vi中的时候,我们怎么再次打开一个文件呢?  

有人会说我们使用分屏打开新文件,然后关闭这个文件不就行了吗?  

是的,这样可以实现这个功能,但是我们这里主要是讲比较不常用的操作,知道了以后敲代码就会更快捷了.  


`:e` 命令用于打开文件.  

我们通过和其他命令组合可以得到很多小命令.  


## 关闭当前文件,打开文件

注意,如果文件有修改的话,会提示你文件有修改的.  


```
:e fileName
```


## 强制关闭当前文件,打开文件


我们使用强制命令 `!` 可以选择强制关闭当前文件.  


```
:e! fileName
```

## 打开新文件并定位到最后

我们在打开文件那一节的时候,介绍了 `+` 操作符可以让我们打开的文件定位到最后一行.  

在这里我们也可以使用这个操作符.  

```
:e+ fileName
```

## 重新加载当前文件


我们使用 `:e` 命令可以打开新文件,把如果新文件就是当前文件呢?  

这个时候不就是关闭当前文件,再次开打当前文件了吗?  

这样就相当于刷新当前文件了,在看log日志的时候相当有效.  

## 打开上次关闭的文件

有时候我们打开新文件后干完事了,又需要打开上次关闭的文件了怎么办呢?  

我们只需要执行一个命令就行了.  

```
:e#
```

当然,我们也可以使用 ctrl+^ 快捷键来打开刚才关闭的文件啦.  



## 另存为新文件

有时候我们想要把当前编辑的文件保存位新文件,这个应该也很常见的.  

```
:saveas newfilename
```

## 指定行保存为新文件

有时候,我们需要将指定的代码段保存为新文件,可能用于代码重构,也可能用于代码测试,不管怎样,这个需求还是有的.  

```
:n1,n2w filename
```



## 打开目录

```
:brower e
```

打开目录这个命令也很有用.  
不过大家应该都配置好了vim, 都自带这目录的插件吧.

有时候我们不想在当前文件上打开目录,而想分割屏幕来在新屏幕上查看目录.  

```
:Sex # 水平分割一个窗口
:Vex # 垂直分割一个窗口
```


这个缩写, Sex, 很容易被封杀的.  



